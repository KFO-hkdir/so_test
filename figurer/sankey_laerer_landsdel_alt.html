<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
      html, body { margin:0; padding:0; }
      #wrap { max-width:640px; margin:0 auto; font-family:sans-serif; }
      #sankey_chart { width:100%; height:520px; }
      h2 { font-size:16px; text-align:center; margin:10px 0 6px 0; }
    </style>
    <script type="text/javascript">
      google.charts.load("current", {packages:["sankey"]});
      google.charts.setOnLoadCallback(drawChart);

      function getChartSize() {
        var el = document.getElementById("sankey_chart");
        var width = el.clientWidth || 640;
        var height = Math.max(420, Math.round(width * 0.85));
        return { width: width, height: height };
      }

      function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn("string", "Fra");
        data.addColumn("string", "Til");
        data.addColumn("number", "Søkere");

        data.addRows([
          ['Møtt i hjemfylket (3344, 60.9%)', 'Nord-Norge (411, 7.5%)', 311],
          ['Møtt i hjemfylket (3344, 60.9%)', 'Sørlandet (427, 7.8%)', 317],
          ['Møtt i hjemfylket (3344, 60.9%)', 'Trøndelag (920, 16.8%)', 464],
          ['Møtt i hjemfylket (3344, 60.9%)', 'Vestlandet (1299, 23.7%)', 937],
          ['Møtt i hjemfylket (3344, 60.9%)', 'Østlandet (2431, 44.3%)', 1315],
          ['Møtt utenfor hjemfylket (2144, 39.1%)', 'Nord-Norge (411, 7.5%)', 100],
          ['Møtt utenfor hjemfylket (2144, 39.1%)', 'Sørlandet (427, 7.8%)', 110],
          ['Møtt utenfor hjemfylket (2144, 39.1%)', 'Trøndelag (920, 16.8%)', 456],
          ['Møtt utenfor hjemfylket (2144, 39.1%)', 'Vestlandet (1299, 23.7%)', 362],
          ['Møtt utenfor hjemfylket (2144, 39.1%)', 'Østlandet (2431, 44.3%)', 1116]
        ]);

        var size = getChartSize();

        var options = {
          width: size.width,
          height: size.height,
          sankey: {
            node: {
              label: { fontSize: 12, color: "black" },
              nodePadding: 10,
              width: 12
            },
            link: {
              colorMode: "gradient"
            }
          }
        };

        var chart = new google.visualization.Sankey(document.getElementById("sankey_chart"));
        chart.draw(data, options);
      }

      window.addEventListener("resize", function() {
        drawChart();
      });
    </script>
  </head>
  <body>
    <div id="wrap">
      <h2>Møtte til lærerutdanninger i 2025 etter landsdel</h2>
      <div id="sankey_chart"></div>
    </div>
  </body>
</html>
